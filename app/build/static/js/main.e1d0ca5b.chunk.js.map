{"version":3,"sources":["app.module.css","components/Menu.js","components/NewOrderForm.js","App.js","index.js"],"names":["module","exports","Menu","location","restaurantName","match","params","history","validate","useCallback","get","process","withCredentials","then","res","data","err","toast","success","payload","username","rest","post","status","push","error","catch","console","cancel","className","styles","containerCenter","centerDiv","style","display","flexDirection","marginTop","justifyContent","alignItems","width","padding","onClick","NewOrderForm","useState","query","setQuery","useHistory","useEffect","search","replace","split","forEach","d","temp","phoneNumber","userData","setUserData","onChange","e","target","name","value","onSubmit","preventDefault","form","border","borderRadius","paddingBottom","formInput","htmlFor","type","outline","cursor","Home","ordData","loc","bigText","marginBottom","restaurant","table","backgroundColor","margin","link","to","App","window","origin","setOrdData","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1d0ca5b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"centerDiv\":\"app_centerDiv__J_XWg\",\"containerCenter\":\"app_containerCenter__3pril\",\"bigText\":\"app_bigText__2cSPz\",\"link\":\"app_link__3MCMi\",\"form\":\"app_form__lnJUg\",\"formInput\":\"app_formInput__1lJ82\"};","import { get, post } from \"axios\";\nimport { useCallback } from \"react\";\nimport toast from \"react-hot-toast\";\nimport styles from \"../app.module.css\";\n\nconst Menu = ({\n    location,\n    match: {\n        params: { restaurantName },\n    },\n    history,\n}) => {\n    const validate = useCallback(\n        () =>\n            get(`${process.env.REACT_APP_API_URL}/new/present`, {\n                withCredentials: true,\n            })\n                .then((res) => {\n                    if (res.data.err === false)\n                        toast.success(\n                            `${res.data.payload.username} es en la ${res.data.payload.rest}`\n                        );\n                    else {\n                        post(\n                            `${process.env.REACT_APP_API_URL}/clearAll`,\n                            {},\n                            {\n                                withCredentials: true,\n                            }\n                        )\n                            .then((res) => {\n                                res.status === 200 && history.push(\"/\");\n                                toast.error(\"this order dosent exist anymore\");\n                            })\n                            .catch((err) => console.error(err));\n                    }\n                })\n                .catch((err) => console.error(err)),\n        [history]\n    );\n    const cancel = useCallback(\n        () =>\n            post(\n                `${process.env.REACT_APP_API_URL}/clearAll`,\n                {},\n                {\n                    withCredentials: true,\n                }\n            )\n                .then((res) => res.status === 200 && history.push(\"/\"))\n                .catch((err) => console.error(err)),\n        [history]\n    );\n    return (\n        <div className={styles.containerCenter}>\n            <div\n                className={styles.centerDiv}\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                }}\n            >\n                Menu for {restaurantName}\n                <div\n                    style={{\n                        marginTop: \"1rem\",\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        justifyContent: \"center\",\n                        alignItems: \"center\",\n                    }}\n                >\n                    <button\n                        style={{ width: \"40%\", padding: \"1rem\" }}\n                        onClick={validate}\n                    >\n                        validate\n                    </button>\n                    <button\n                        style={{ width: \"40%\", padding: \"1rem\" }}\n                        onClick={cancel}\n                    >\n                        cancel\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Menu;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styles from \"../app.module.css\";\nimport { post } from \"axios\";\n\nconst NewOrderForm = ({ location }) => {\n    const [query, setQuery] = useState({});\n    const history = useHistory();\n    useEffect(() => {\n        const data = {};\n        location.search\n            .replace(\"?\", \"\")\n            .split(\"&\")\n            .forEach((d) => {\n                const temp = d.split(\"=\");\n                data[temp[0]] = temp[1];\n            });\n        setQuery(data);\n    }, [location.search]);\n    const [userData, setUserData] = useState({\n        username: \"bad boy shah\",\n        phoneNumber: \"7001940069\",\n    });\n    const onChange = useCallback(\n        (e) =>\n            setUserData((d) => ({\n                ...d,\n                [e.target.name]: e.target.value,\n            })),\n        []\n    );\n    const onSubmit = useCallback(\n        (e) => {\n            e.preventDefault();\n            post(\n                `${process.env.REACT_APP_API_URL}/new`,\n                {\n                    ...query,\n                    ...userData,\n                },\n                { withCredentials: true }\n            ).then(\n                (res) =>\n                    res.status === 200 && history.push(`/${query.rest}/menu`)\n            );\n        },\n        [userData, query, history]\n    );\n\n    return (\n        <div className={styles.containerCenter}>\n            <div className={styles.centerDiv}>\n                <form\n                    className={styles.form}\n                    onSubmit={onSubmit}\n                    style={{\n                        border: \"2px dashed white \",\n                        borderRadius: \"5px\",\n                        paddingBottom: \"1rem\",\n                    }}\n                >\n                    <div className={styles.formInput}>\n                        <label htmlFor=\"username\">username</label>\n                        <input\n                            type=\"text\"\n                            name=\"username\"\n                            value={userData.username}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <div className={styles.formInput}>\n                        <label htmlFor=\"phoneNumber\">Phone Number</label>\n                        <input\n                            type=\"text\"\n                            name=\"phoneNumber\"\n                            value={userData.phoneNumber}\n                            onChange={onChange}\n                        />\n                    </div>\n                    <button\n                        type=\"submit\"\n                        style={{\n                            marginTop: \"1rem\",\n                            padding: \".5rem\",\n                            borderRadius: \"5px\",\n                            outline: \"none\",\n                            border: \"1px solid white\",\n                            cursor: \"pointer\",\n                        }}\n                    >\n                        GET TO MENU\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default NewOrderForm;\n","import { useCallback, useState } from \"react\";\nimport { BrowserRouter as Router, Link, Route, Switch } from \"react-router-dom\";\nimport styles from \"./app.module.css\";\nimport Menu from \"./components/Menu\";\nimport NewOrderForm from \"./components/NewOrderForm\";\nimport QRCode from \"qrcode.react\";\nimport { Toaster } from \"react-hot-toast\";\n\nfunction App() {\n    const [loc] = useState(window.location.origin);\n    const [ordData, setOrdData] = useState({\n        restaurant: \"zaika\",\n        table: \"1\",\n    });\n    const onChange = useCallback(\n        (e) =>\n            setOrdData((d) => ({\n                ...d,\n                [e.target.name]: e.target.value,\n            })),\n        []\n    );\n\n    return (\n        <>\n            <Router>\n                <Switch>\n                    <Route path=\"/\" exact>\n                        <Home onChange={onChange} ordData={ordData} loc={loc} />\n                    </Route>\n                    <Route path=\"/new\" component={NewOrderForm} />\n                    <Route path=\"/:restaurantName/menu\" component={Menu} />\n                </Switch>\n            </Router>\n            <Toaster />\n        </>\n    );\n}\n\nconst Home = ({ ordData, onChange, loc }) => (\n    <div className={styles.containerCenter}>\n        <div\n            className={styles.centerDiv}\n            style={{\n                border: \"2px dashed white \",\n                borderRadius: \"5px\",\n            }}\n        >\n            <h1 className={styles.bigText} style={{ marginBottom: \"1rem\" }}>\n                Click on the link below to generate new order\n            </h1>\n            <div className={styles.form}>\n                <div className={styles.formInput}>\n                    <label htmlFor=\"restaurant\">Restaurant</label>\n                    <input\n                        type=\"text\"\n                        name=\"restaurant\"\n                        value={ordData.restaurant}\n                        onChange={onChange}\n                    />\n                </div>\n                <div className={styles.formInput}>\n                    <label htmlFor=\"table\">Table</label>\n                    <input\n                        type=\"number\"\n                        name=\"table\"\n                        value={ordData.table}\n                        onChange={onChange}\n                    />\n                </div>\n            </div>\n            <div\n                style={{\n                    padding: \"2rem\",\n                    backgroundColor: \"white\",\n                    margin: \"1rem auto\",\n                }}\n            >\n                <QRCode\n                    value={`${loc}/new?rest=${ordData.restaurant}&table=${ordData.table}`}\n                />\n            </div>\n            <Link\n                className={styles.link}\n                to={`/new?rest=${ordData.restaurant}&table=${ordData.table}`}\n            >\n                {`${loc}/new?rest=${ordData.restaurant}&table=${ordData.table}`}\n            </Link>\n        </div>\n    </div>\n);\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./reset.css\";\nimport \"./index.css\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}